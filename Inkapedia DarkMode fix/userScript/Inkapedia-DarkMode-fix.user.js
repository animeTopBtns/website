// ==UserScript==
// @name         Inkapedia DarkMode fix
// @namespace    http://tampermonkey.net/
// @version      0.1.5
// @description  Userscript/Userstyle that aims to fix problems with the Inkapedia's darkmode (not fully complete)
// @author       WhiteTapeti
// @match        *://splatoonwiki.org/*
// @match        *://syndication.twitter.com/*
// @icon         https://www.google.com/s2/favicons?sz=64&domain=splatoonwiki.org
// @grant        GM_addStyle
// @require      https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js
// @require      https://greasyfork.org/scripts/467838-inkapedia-darkmode-fix/code/Inkapedia%20DarkMode%20fix.user.js
// @run-at       document-start
// ==/UserScript==

if (window.top !== window.self) {
    if (/.*:\/\/syndication\.twitter\.com\/.*/igm.test(window.location.href)) {
        if (/.*:\/\/syndication\.twitter\.com\/.*&theme=dark/i.test(window.location.href) == false) {
            window.location.replace(window.location.href.replace(/&transparent=false/igm, '&transparent=true') + "&theme=dark")
        }
    }
}

if (/https:\/\/splatoonwiki\.org\/wiki\/Special:.*/i.test(window.location.href) == false) {
    GM_addStyle(`html{color-scheme:dark!important}nav#p-cactions,nav#p-namespaces .selected,nav#p-namespaces li,nav#p-views .selected,nav#p-views li{background-color:#27262c}.vector-menu-dropdown .vector-menu-heading:after{-webkit-filter:invert(1)!important;filter:invert(1)!important}audio{border:solid #8c8c8c!important;-webkit-border-radius:2000px!important;-moz-border-radius:2000px!important;border-radius:2000px!important}.mw-parser-output .bigrun{background-image:url('https://files.catbox.moe/ly7j6l.svg')!important}.mw-parser-output .splatfest{background-image:url('https://files.catbox.moe/0ui5mm.svg')!important}.mw-parser-output .bubbleamiibobg{background-image:url("https://files.catbox.moe/t9nuda.svg")!important}.mw-parser-output .grizzco{background-image:url("https://files.catbox.moe/fy9pfq.svg")!important}.navpopup{background-color:#27262c!important}.popup_drop .popup_menu:hover,.popup_drop:hover,.popup_drop:hover .popup_menu{background:#323137}.mw_metadata td,.mw_metadata th{background-color:#202020}#filetoc{background-color:#202020!important}.searchButton[name=go]{background:url(https://files.catbox.moe/gwcelc.svg) center/1.23076923em no-repeat}.cd,.textwidget{background-color:rgba(255,255,255,.05)!important}.btextwidget{background-color:rgba(255,255,255,.1)!important}.mw-search-profile-tabs,.oo-ui-toolbar-bar,.oo-ui-windowManager-modal>.oo-ui-dialog>.oo-ui-window-frame{background-color:#272727}.mw-search-profile-tabs{border:1px solid #1e1d1d}.oo-ui-popupWidget-popup,.oo-ui-windowManager-modal.oo-ui-windowManager-floating>.oo-ui-dialog>.oo-ui-window-frame{border:1px solid #101010}.search-types .current a{color:#cbcbcb}.oo-ui-popupWidget-popup{background-color:#202020}.mw-ui-icon-close:before,.oo-ui-icon-close,.oo-ui-indicator-down{filter:invert(1)}.oo-ui-popupToolGroup.oo-ui-popupToolGroup-active>.oo-ui-popupToolGroup-handle,.oo-ui-popupToolGroup.oo-ui-widget-enabled>.oo-ui-popupToolGroup-handle:active,.oo-ui-popupToolGroup.oo-ui-widget-enabled>.oo-ui-popupToolGroup-handle:hover,.oo-ui-tool.oo-ui-widget-enabled.oo-ui-popupToolGroup-active>.oo-ui-tool-link,.oo-ui-tool.oo-ui-widget-enabled.oo-ui-tool-active>.oo-ui-tool-link,.oo-ui-tool.oo-ui-widget-enabled>.oo-ui-tool-link:active,.oo-ui-tool.oo-ui-widget-enabled>.oo-ui-tool-link:hover{background-color:#eff3fa14}.oo-ui-popupToolGroup-tools{background-color:#272727;border:1px solid #101010}.oo-ui-listToolGroup-tools .oo-ui-tool-active.oo-ui-widget-enabled,.oo-ui-listToolGroup-tools .oo-ui-tool.oo-ui-widget-enabled:hover,.oo-ui-menuToolGroup-tools .oo-ui-tool.oo-ui-tool-active{background-color:transparent}.oo-ui-messageDialog-title{color:#ddd}.oo-ui-messageDialog-message{color:#b5b5b5}.oo-ui-messageDialog-actions-horizontal .oo-ui-actionWidget{border-right:1px solid #101010}.oo-ui-messageDialog-content>.oo-ui-window-foot{outline:#101010 solid 1px}.oo-ui-windowManager-modal>.oo-ui-dialog{background-color:rgb(58 58 58 / 71%)}.oo-ui-barToolGroup-tools.oo-ui-toolGroup-disabled-tools .oo-ui-tool.oo-ui-flaggedElement-primary>.oo-ui-tool-link,.oo-ui-barToolGroup-tools.oo-ui-toolGroup-enabled-tools .oo-ui-tool.oo-ui-widget-disabled.oo-ui-flaggedElement-primary>.oo-ui-tool-link{background-color:#1a1919;border-color:#101010}.oo-ui-tool.oo-ui-widget-enabled.oo-ui-flaggedElement-primary.oo-ui-flaggedElement-progressive>.oo-ui-tool-link{background-color:#0046a7}.mw-ui-icon-undo:before,.oo-ui-icon-undo{background-image:url(https://files.catbox.moe/rte3qy.png);background-image:linear-gradient(transparent,transparent),url("https://files.catbox.moe/tb5dr1.svg")}.mw-ui-icon-redo:before,.oo-ui-icon-redo{background-image:url(https://files.catbox.moe/i5wx19.png);background-image:linear-gradient(transparent,transparent),url("https://files.catbox.moe/id9hpq.svg")}.mw-ui-icon-textStyle:before,.oo-ui-icon-textStyle{background-image:url(https://files.catbox.moe/s9qac2.png);background-image:linear-gradient(transparent,transparent),url("https://files.catbox.moe/53i2f4.svg")}.mw-ui-icon-bold:before,.oo-ui-icon-bold{background-image:url(https://files.catbox.moe/f0q0su.png);background-image:linear-gradient(transparent,transparent),url("https://files.catbox.moe/h3scdc.svg")}.mw-ui-icon-italic:before,.oo-ui-icon-italic{background-image:url(https://files.catbox.moe/nspgkk.png);background-image:linear-gradient(transparent,transparent),url("https://files.catbox.moe/5bnsj2.svg")}.mw-ui-icon-cancel:before,.oo-ui-icon-cancel{background-image:url(https://files.catbox.moe/73xhii.png);background-image:linear-gradient(transparent,transparent),url("https://files.catbox.moe/bs3a2b.svg")}.mw-ui-icon-expand:before,.oo-ui-icon-expand{background-image:url(https://files.catbox.moe/d8mk8u.png);background-image:linear-gradient(transparent,transparent),url("https://files.catbox.moe/ap9xl0.svg")}.mw-ui-icon-superscript:before,.oo-ui-icon-superscript{background-image:url(https://files.catbox.moe/69qay5.png);background-image:linear-gradient(transparent,transparent),url("https://files.catbox.moe/xj6iks.svg")}.mw-ui-icon-subscript:before,.oo-ui-icon-subscript{background-image:url(https://files.catbox.moe/9jfsgz.png);background-image:linear-gradient(transparent,transparent),url("https://files.catbox.moe/mchl9y.svg")}.mw-ui-icon-strikethrough:before,.oo-ui-icon-strikethrough{background-image:url(https://files.catbox.moe/lpkcsx.png);background-image:linear-gradient(transparent,transparent),url("https://files.catbox.moe/twicra.svg")}.mw-ui-icon-code:before,.oo-ui-icon-code{background-image:url(https://files.catbox.moe/vvrp8k.png);background-image:linear-gradient(transparent,transparent),url("https://files.catbox.moe/qcxx17.svg")}.mw-ui-icon-underline:before,.oo-ui-icon-underline{background-image:url(https://files.catbox.moe/ms9cm0.png);background-image:linear-gradient(transparent,transparent),url("https://files.catbox.moe/o5r5em.svg")}.mw-ui-icon-language:before,.oo-ui-icon-language{background-image:url(https://files.catbox.moe/efs8gx.png);background-image:linear-gradient(transparent,transparent),url("https://files.catbox.moe/21ljgt.svg")}.mw-ui-icon-bigger:before,.oo-ui-icon-bigger{background-image:url(https://files.catbox.moe/vdn5ch.png);background-image:linear-gradient(transparent,transparent),url("https://files.catbox.moe/rs9mtf.svg")}.mw-ui-icon-smaller:before,.oo-ui-icon-smaller{background-image:url(https://files.catbox.moe/nuo39s.png);background-image:linear-gradient(transparent,transparent),url("https://files.catbox.moe/xn32p4.svg")}.mw-ui-icon-collapse:before,.oo-ui-icon-collapse{background-image:url(https://files.catbox.moe/yhbm2z.png);background-image:linear-gradient(transparent,transparent),url("https://files.catbox.moe/utkwrq.svg")}.mw-ui-icon-link:before,.oo-ui-icon-link{background-image:url(https://files.catbox.moe/2ei76l.png);background-image:linear-gradient(transparent,transparent),url("https://files.catbox.moe/e10dl3.svg")}.mw-ui-icon-reference:before,.oo-ui-icon-reference{background-image:url(https://files.catbox.moe/g36bt6.png);background-image:linear-gradient(transparent,transparent),url("https://files.catbox.moe/ggjoyp.svg")}.mw-ui-icon-listBullet:before,.oo-ui-icon-listBullet{background-image:url(https://files.catbox.moe/mi0ch3.png);background-image:linear-gradient(transparent,transparent),url("https://files.catbox.moe/idu6vy.svg")}.mw-ui-icon-listNumbered:before,.oo-ui-icon-listNumbered{background-image:url(https://files.catbox.moe/q0k719.png);background-image:linear-gradient(transparent,transparent),url("https://files.catbox.moe/vxlm2o.svg")}.mw-ui-icon-outdent:before,.oo-ui-icon-outdent{background-image:url(https://files.catbox.moe/f3iggz.png);background-image:linear-gradient(transparent,transparent),url("https://files.catbox.moe/oi0q5k.svg")}.mw-ui-icon-indent:before,.oo-ui-icon-indent{background-image:url(https://files.catbox.moe/59dscc.png);background-image:linear-gradient(transparent,transparent),url("https://files.catbox.moe/f07plj.svg")}.mw-ui-icon-image:before,.oo-ui-icon-image{background-image:url(https://files.catbox.moe/a6hluv.png);background-image:linear-gradient(transparent,transparent),url("https://files.catbox.moe/ydgp2b.svg")}.mw-ui-icon-puzzle:before,.oo-ui-icon-puzzle{background-image:url(https://files.catbox.moe/zh6diu.png);background-image:linear-gradient(transparent,transparent),url("https://files.catbox.moe/wlessj.svg")}.mw-ui-icon-table:before,.oo-ui-icon-table{background-image:url(https://files.catbox.moe/52f5vu.png);background-image:linear-gradient(transparent,transparent),url("https://files.catbox.moe/12ckai.svg")}.mw-ui-icon-notice:before,.oo-ui-icon-notice{background-image:url(https://files.catbox.moe/p3gag7.png);background-image:linear-gradient(transparent,transparent),url("https://files.catbox.moe/impeid.svg")}.mw-ui-icon-labFlask:before,.oo-ui-icon-labFlask{background-image:url(https://files.catbox.moe/j5wily.png);background-image:linear-gradient(transparent,transparent),url("https://files.catbox.moe/c6gah0.svg")}.mw-ui-icon-mathematics:before,.oo-ui-icon-mathematics{background-image:url(https://files.catbox.moe/qgkaco.png);background-image:linear-gradient(transparent,transparent),url("https://files.catbox.moe/c3g70q.svg")}.mw-ui-icon-imageGallery:before,.oo-ui-icon-imageGallery{background-image:url(https://files.catbox.moe/tx8gmb.png);background-image:linear-gradient(transparent,transparent),url("https://files.catbox.moe/m7efxn.svg")}.mw-ui-icon-signature:before,.oo-ui-icon-signature{background-image:url(https://files.catbox.moe/a1ud5j.png);background-image:linear-gradient(transparent,transparent),url("https://files.catbox.moe/ydro8n.svg")}.mw-ui-icon-references:before,.oo-ui-icon-references{background-image:url(https://files.catbox.moe/2hh1ml.png);background-image:linear-gradient(transparent,transparent),url("https://files.catbox.moe/gnv0e5.svg")}.mw-ui-icon-specialCharacter:before,.oo-ui-icon-specialCharacter{background-image:url(https://files.catbox.moe/438v5j.png);background-image:linear-gradient(transparent,transparent),url("https://files.catbox.moe/2bqju7.svg")}`);}
